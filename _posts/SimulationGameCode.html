<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulation Game Code</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #000;
            color: #fff;
        }

        canvas {
            display: none; /* Hide canvas by default */
            margin: auto;
            border: 1px solid #000;
        }

        #gameCanvas, #pauseButton, #startButton {
            display: none;
        }

        #gameContent {
            display: none;
        }
    </style>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="questionnaire">
        <h1>Mental Health Questionnaire</h1>

        <p>Anxiety quiz (High functioning and low functioning until I can make two different ones):</p>

        <!-- Question 1 -->
        <p>Question 1: How often do you feel nervous?</p>
        <form id="anxietyForm1">
            <input type="radio" name="q1" value="Every day"> Every day
            <input type="radio" name="q1" value="Once a week"> Once a week
            <input type="radio" name="q1" value="Every few months"> Every few months
            <br>
        </form>

        <!-- Question 2 -->
        <p>Question 2: How frequently do you worry a lot?</p>
        <form id="anxietyForm2">
            <input type="radio" name="q2" value="Every day"> Every day
            <input type="radio" name="q2" value="Once a week"> Once a week
            <input type="radio" name="q2" value="Every few months"> Every few months
            <br>
        </form>

        <!-- Question 3 -->
        <p>Question 3: How often are you overly scared (of anything, really)</p>
        <form id="anxietyForm3">
            <input type="radio" name="q3" value="Every day"> Every day
            <input type="radio" name="q3" value="Once a week"> Once a week
            <input type="radio" name="q3" value="Every few months"> Every few months
            <br>
        </form>

        <p>Depression quiz:</p>

        <!-- Question 4 -->
        <p>Question 1: How often do you feel extremely down, upset, or sad?</p>
        <form id="depressionForm1">
            <input type="radio" name="q4" value="Every day"> Every day
            <input type="radio" name="q4" value="Once a week"> Once a week
            <input type="radio" name="q4" value="Every few months"> Every few months
            <br>
        </form>

        <!-- Question 5 -->
        <p>Question 2: When do you tend to have less energy or willingness to do anything?</p>
        <form id="depressionForm2">
            <input type="radio" name="q5" value="Every day"> Every day
            <input type="radio" name="q5" value="Once a week"> Once a week
            <input type="radio" name="q5" value="Every few months"> Every few months
            <br>
        </form>

        <!-- Question 6 -->
        <p>Question 3: How often do you think negatively about yourself (ex: you only let everyone down)?</p>
        <form id="depressionForm3">
            <input type="radio" name="q6" value="Every day"> Every day
            <input type="radio" name="q6" value="Once a week"> Once a week
            <input type="radio" name="q6" value="Every few months"> Every few months
            <br>    
        </form>

        <button id="submitQuestionnaire" onclick="handleQuestionnaireSubmit()">Submit Quiz</button>
    </div>

    <div id="gameContent">
        <h1>Simulation Game Instructions</h1>
        <p>Click on the red squares to score points. Avoid clicking on other colored squares. You have 120 seconds. Good luck!</p>
        <canvas id="gameCanvas" width="800" height="600"></canvas>
        <button id="pauseButton">Pause Game</button>
    </div>

    <script src="game.js"></script>
    <script>
        // Add this function to handle the questionnaire submission
        function handleQuestionnaireSubmit() {
            const anxietyForm = document.getElementById("anxietyForm1");
            const depressionForm = document.getElementById("depressionForm1");

            // Check if all questions are answered
            if (areAllQuestionsAnswered(anxietyForm) && areAllQuestionsAnswered(depressionForm)) {
                // Process answers (you can add your logic here)

                // Hide the questionnaire
                const questionnaire = document.getElementById("questionnaire");
                questionnaire.style.display = "none";

                // Show the canvas
                canvas.style.display = "block";

                // Start the game
                isGameRunning = true;

                // Remove the questionnaire and start the game
                document.body.removeChild(anxietyForm);
                document.body.removeChild(depressionForm);
                requestAnimationFrame(gameLoop);
            } else {
                alert("Please answer all questions before starting the game.");
            }
        }

        // Add this function to check if all questions are answered
        function areAllQuestionsAnswered(form) {
            const answeredQuestions = [...form.elements].filter((el) => el.checked);
            return answeredQuestions.length === 1; // Assuming there is only one question in each form
        }
    </script>
</body>
</html>